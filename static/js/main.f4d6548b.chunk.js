(this.webpackJsonpruleta=this.webpackJsonpruleta||[]).push([[0],{16:function(e,t,n){e.exports=n(43)},21:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(13),s=n.n(c),u=(n(21),n(0)),o=n.n(u),l=n(3),i=n(14),p=n.n(i),f=n(15),h=function(e){var t=e.axios,n=e.urlBase;return{getAllItems:function(){var e;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.a.awrap(t.get("".concat(n,"/getAllItems")));case 3:return e=r.sent,r.abrupt("return",e.data);case 7:return r.prev=7,r.t0=r.catch(0),console.log("ERROR =>",r.t0.message),r.abrupt("return",[]);case 11:case"end":return r.stop()}}),null,null,[[0,7]])},changeStatusItems:function(e){return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.a.awrap(t.get("".concat(n,"/changeItemsId/").concat(e.id)));case 3:r.next=9;break;case 5:return r.prev=5,r.t0=r.catch(0),console.log("ERROR =>",r.t0.message),r.abrupt("return",0);case 9:case"end":return r.stop()}}),null,null,[[0,5]])},getItemsActives:function(){var e;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.a.awrap(t.get("".concat(n,"/getItems")));case 3:return e=r.sent,r.abrupt("return",e.data);case 7:return r.prev=7,r.t0=r.catch(0),console.log("ERROR =>",r.t0.message),r.abrupt("return",[]);case 11:case"end":return r.stop()}}),null,null,[[0,7]])},activeAllItems:function(){var e;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,o.a.awrap(t.get("".concat(n,"/activeAllItems")));case 3:return e=r.sent,r.abrupt("return",e.data);case 7:return r.prev=7,r.t0=r.catch(0),console.log("ERROR =>",r.t0.message),r.abrupt("return",[]);case 11:case"end":return r.stop()}}),null,null,[[0,7]])}}},v=function(e){var t=e.axios,n=e.urlBase,r=h({axios:t,urlBase:n});return{getItemsActives:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(r.getItemsActives());case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log("ERROR =>",e.t0.message),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),null,null,[[0,6]])},changeStatusItems:function(e,t){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.awrap(r.changeStatusItems(Object(f.a)({},e,{active:t})));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),console.log("ERROR =>",n.t0.message),n.abrupt("return",0);case 10:case"end":return n.stop()}}),null,null,[[0,6]])},getAllItems:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(r.getAllItems());case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log("ERROR =>",e.t0.message),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),null,null,[[0,6]])},activeAllItems:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(r.activeAllItems());case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log("ERROR =>",e.t0.message),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),null,null,[[0,6]])}}},m=(n(41),function(){var e,t=Object(r.useState)([]),n=Object(l.a)(t,2),c=n[0],s=n[1],u=Object(r.useState)(!0),i=Object(l.a)(u,2),f=i[0],h=i[1],m=v({axios:p.a,urlBase:"https://api-roulette.herokuapp.com/roulette"}),g=0,w=Math.PI/(c.length/2),d=null,x=0,b=0,I=function(e){return String("0123456789ABCDEF".substr(e>>4&15,1))+"0123456789ABCDEF".substr(15&e,1)},R=function(e,t){var n,r,a=2*Math.PI/t,c=127*Math.sin(a*e+2+0)+128,s=127*Math.sin(a*e+0+0)+128,u=127*Math.sin(a*e+4+0)+128;return n=s,r=u,"#"+I(c)+I(n)+I(r)},E=function(){var t=B.current;if(t.getContext){(e=t.getContext("2d")).clearRect(0,0,500,500),e.strokeStyle="black",e.lineWidth=2;for(var n=0;n<c.length;n++){var r=g+n*w;y(e,200,125,r,w,n,c.length),A(e,c[n].name,r,w,160)}O(e,200)}},y=function(e,t,n,r,a,c,s){e.fillStyle=R(c,s),e.beginPath(),e.arc(250,250,t,r,r+a,!1),e.arc(250,250,n,r+a,r,!0),e.stroke(),e.fill(),e.save()},A=function(t,n,r,a,c){t.shadowOffsetX=-1,t.shadowOffsetY=-1,t.shadowBlur=0,t.fillStyle="#000000",t.font="bold 16px Lato,Helvetica,Arial,Verdana,Tahoma,sans-serif",t.translate(250+Math.cos(r+a/2)*c,250+Math.sin(r+a/2)*c),t.rotate(r+a/2+Math.PI/2),t.fillText(n,-e.measureText(n).width/2,0),t.restore()},O=function(e,t){e.fillStyle="#F42534",e.beginPath(),e.moveTo(242,220-(t+10)),e.lineTo(258,220-(t+10)),e.lineTo(258,220-(t-10)),e.lineTo(268,220-(t-10)),e.lineTo(250,220-(t-26)),e.lineTo(232,220-(t-10)),e.lineTo(242,220-(t-10)),e.lineTo(242,220-(t+10)),e.fill()},M=function e(t){if((x+=30)>=b)k();else{var n=t-S(x,0,t,b);g+=n*Math.PI/180,E(),d=setTimeout((function(){return e(t)}),30)}},k=function(){var t,n,r,a,s;return o.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:return clearTimeout(d),t=180*g/Math.PI+90,n=180*w/Math.PI,r=Math.floor((360-t%360)/n),a=c[r],console.log(a),u.next=8,o.a.awrap(m.changeStatusItems(a,!1));case 8:e.save(),e.font="24px Arial",(s=new Image).src=a.url,s.onload=function(){var t,n,r;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:e.width=180,e.height=180,t=s.width,n=s.height,r=T(t,n,e.width,e.height),e.drawImage(s,0,0,t,n,160,160,t*r,n*r),h(!1);case 7:case"end":return a.stop()}}))},e.restore();case 14:case"end":return u.stop()}}))},T=function(e,t,n,r){return Math.min(n/e,r/t)},S=function(e,t,n,r){var a=(e/=r)*e;return t+n*(a*e+-3*a+3*e)},B=Object(r.useRef)(),j=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(m.getItemsActives());case 2:return e=t.sent,console.log(e),t.next=6,o.a.awrap(s(e));case 6:return t.abrupt("return",e);case 7:case"end":return t.stop()}}))},P=function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("restartItems",e.length),0!==e.length){t.next=6;break}return t.next=4,o.a.awrap(m.activeAllItems());case 4:return t.next=6,o.a.awrap(j());case 6:case"end":return t.stop()}}))};return Object(r.useEffect)((function(){j()}),[]),Object(r.useEffect)((function(){E()}),[c]),a.a.createElement("div",{className:"ruleta"},a.a.createElement("canvas",{ref:B,className:"",width:"500",height:"500"}),f?a.a.createElement("button",{className:"button--primary",onClick:function(){return function(){var e=10*Math.random()+10;x=0,b=3*Math.random()+4e3,M(e)}()}},"Girar"):a.a.createElement("button",{className:"button--primary",onClick:function(){return function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.awrap(h(!0));case 3:return t.next=5,o.a.awrap(j());case 5:return e=t.sent,t.next=8,o.a.awrap(P(e));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("ERROR =>",t.t0.message);case 13:case"end":return t.stop()}}),null,null,[[0,10]])}()}},"Limpiar"))}),g=(n(42),function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(m,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.f4d6548b.chunk.js.map