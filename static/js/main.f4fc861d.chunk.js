(this.webpackJsonpruleta=this.webpackJsonpruleta||[]).push([[0],{26:function(e,t,n){e.exports=n(54)},31:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(19),s=n.n(c),u=(n(31),n(1)),o=n.n(u),l=n(9),i=n(20),p=n.n(i),f=n(24),h=function(e){var t=e.axios,n=e.urlBase;return{getAllItems:function(){var e;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.awrap(t.get("".concat(n,"/getAllItems")));case 3:return e=a.sent,a.abrupt("return",e.data);case 7:return a.prev=7,a.t0=a.catch(0),console.log("ERROR =>",a.t0.message),a.abrupt("return",[]);case 11:case"end":return a.stop()}}),null,null,[[0,7]])},changeStatusItems:function(e){return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.awrap(t.get("".concat(n,"/changeItemsId/").concat(e.id)));case 3:a.next=9;break;case 5:return a.prev=5,a.t0=a.catch(0),console.log("ERROR =>",a.t0.message),a.abrupt("return",0);case 9:case"end":return a.stop()}}),null,null,[[0,5]])},getItemsActives:function(){var e;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.awrap(t.get("".concat(n,"/getItems")));case 3:return e=a.sent,a.abrupt("return",e.data);case 7:return a.prev=7,a.t0=a.catch(0),console.log("ERROR =>",a.t0.message),a.abrupt("return",[]);case 11:case"end":return a.stop()}}),null,null,[[0,7]])},activeAllItems:function(){var e;return o.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o.a.awrap(t.get("".concat(n,"/activeAllItems")));case 3:return e=a.sent,a.abrupt("return",e.data);case 7:return a.prev=7,a.t0=a.catch(0),console.log("ERROR =>",a.t0.message),a.abrupt("return",[]);case 11:case"end":return a.stop()}}),null,null,[[0,7]])}}},v=function(e){var t=e.axios,n=e.urlBase,a=h({axios:t,urlBase:n});return{getItemsActives:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(a.getItemsActives());case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log("ERROR =>",e.t0.message),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),null,null,[[0,6]])},changeStatusItems:function(e,t){return o.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.a.awrap(a.changeStatusItems(Object(f.a)({},e,{active:t})));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),console.log("ERROR =>",n.t0.message),n.abrupt("return",0);case 10:case"end":return n.stop()}}),null,null,[[0,6]])},getAllItems:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(a.getAllItems());case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log("ERROR =>",e.t0.message),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),null,null,[[0,6]])},activeAllItems:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.awrap(a.activeAllItems());case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.log("ERROR =>",e.t0.message),e.abrupt("return",[]);case 10:case"end":return e.stop()}}),null,null,[[0,6]])}}},m=(n(51),n(56)),g=n(25),w=n(57),d=function(){var e,t=Object(a.useState)([]),n=Object(l.a)(t,2),c=n[0],s=n[1],u=Object(a.useState)(!0),i=Object(l.a)(u,2),f=i[0],h=i[1],d=Object(a.useState)({}),x=Object(l.a)(d,2),b=x[0],I=x[1],R=v({axios:p.a,urlBase:"https://api-roulette.herokuapp.com/roulette"}),E=0,y=Math.PI/(c.length/2),O=null,A=0,k=0,M=function(e){return String("0123456789ABCDEF".substr(e>>4&15,1))+"0123456789ABCDEF".substr(15&e,1)},T=function(e,t){var n,a,r=2*Math.PI/t,c=127*Math.sin(r*e+2+0)+128,s=127*Math.sin(r*e+0+0)+128,u=127*Math.sin(r*e+4+0)+128;return n=s,a=u,"#"+M(c)+M(n)+M(a)},S=function(){var t=G.current;if(t.getContext){(e=t.getContext("2d")).clearRect(0,0,500,500),e.strokeStyle="black",e.lineWidth=2;for(var n=0;n<c.length;n++){var a=E+n*y;j(e,200,125,a,y,n,c.length),B(e,c[n].name,a,y,160)}P(e,200)}},j=function(e,t,n,a,r,c,s){e.fillStyle=T(c,s),e.beginPath(),e.arc(250,250,t,a,a+r,!1),e.arc(250,250,n,a+r,a,!0),e.stroke(),e.fill(),e.save()},B=function(t,n,a,r,c){t.shadowOffsetX=-1,t.shadowOffsetY=-1,t.shadowBlur=0,t.fillStyle="#000000",t.font="bold 16px Lato,Helvetica,Arial,Verdana,Tahoma,sans-serif",t.translate(250+Math.cos(a+r/2)*c,250+Math.sin(a+r/2)*c),t.rotate(a+r/2+Math.PI/2),t.fillText(n,-e.measureText(n).width/2,0),t.restore()},P=function(e,t){e.fillStyle="#F42534",e.beginPath(),e.moveTo(242,220-(t+10)),e.lineTo(258,220-(t+10)),e.lineTo(258,220-(t-10)),e.lineTo(268,220-(t-10)),e.lineTo(250,220-(t-26)),e.lineTo(232,220-(t-10)),e.lineTo(242,220-(t-10)),e.lineTo(242,220-(t+10)),e.fill()},C=function e(t){if((A+=30)>=k)N();else{var n=t-D(A,0,t,k);E+=n*Math.PI/180,S(),O=setTimeout((function(){return e(t)}),30)}},N=function(){var t,n,a,r,s;return o.a.async((function(u){for(;;)switch(u.prev=u.next){case 0:clearTimeout(O),t=180*E/Math.PI+90,n=180*y/Math.PI,a=Math.floor((360-t%360)/n),r=c[a],I(r),console.log(b),e.save(),e.font="24px Arial",(s=new Image).src=r.url,s.onload=function(){var t,n,a;return o.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:e.width=180,e.height=180,t=s.width,n=s.height,a=W(t,n,e.width,e.height),e.drawImage(s,0,0,t,n,160,160,t*a,n*a),h(!1);case 7:case"end":return r.stop()}}))},e.restore();case 13:case"end":return u.stop()}}))},F=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.a.awrap(h(!0));case 3:return t.next=5,o.a.awrap(J());case 5:return e=t.sent,t.next=8,o.a.awrap(L(e));case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log("ERROR =>",t.t0.message);case 13:case"end":return t.stop()}}),null,null,[[0,10]])},W=function(e,t,n,a){return Math.min(n/e,a/t)},D=function(e,t,n,a){var r=(e/=a)*e;return t+n*(r*e+-3*r+3*e)},G=Object(a.useRef)(),J=function(){var e;return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.awrap(R.getItemsActives());case 2:return e=t.sent,console.log(e),t.next=6,o.a.awrap(s(e));case 6:return t.abrupt("return",e);case 7:case"end":return t.stop()}}))},L=function(e){return o.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("restartItems",e.length),0!==e.length){t.next=6;break}return t.next=4,o.a.awrap(R.activeAllItems());case 4:return t.next=6,o.a.awrap(J());case 6:case"end":return t.stop()}}))};Object(a.useEffect)((function(){J()}),[]),Object(a.useEffect)((function(){S()}),[c]);return r.a.createElement("div",{className:"ruleta"},r.a.createElement("canvas",{ref:G,className:"",width:"500",height:"500"}),r.a.createElement(m.a,null,f?r.a.createElement(g.a,{variant:"success",onClick:function(){return function(){var e=10*Math.random()+10;A=0,k=3*Math.random()+4e3,C(e)}()},active:!1},"Girar"):r.a.createElement(w.a,{type:"checkbox"},r.a.createElement(g.a,{variant:"warning",onClick:F},"Limpiar"),r.a.createElement(g.a,{variant:"success",onClick:function(){return o.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.awrap(R.changeStatusItems(b,!1));case 2:F();case 3:case"end":return e.stop()}}))}},"Guardar"))))},x=(n(52),n(53),function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(d,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.f4fc861d.chunk.js.map